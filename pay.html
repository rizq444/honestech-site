<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Pay Now – HONESTECH</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="color-scheme" content="dark" />
  <link rel="stylesheet" href="/styles.css" />
  <style>
    .pay-wrap { max-width: 900px; margin: 0 auto; padding: 24px; }
    .pay-grid { display: grid; grid-template-columns: 1.2fr .8fr; gap: 18px; }
    .card { background: var(--p); border: 1px solid #1f1f23; border-radius: 16px; padding: 18px; }
    .methods { display: grid; gap: 12px; }
    .method { display:flex; align-items:center; justify-content:space-between; gap:12px; border:1px solid #2a2a2f; background:#121214; border-radius:12px; padding:12px; }
    .method .left { display:flex; align-items:center; gap:12px; }
    .brand-chip { font-weight:800; padding:6px 10px; border-radius:8px; border:1px solid #2a2a2f; background:#0f0f12; }
    .method a.btn { margin-left:auto; }
    .fine { color: var(--muted); font-size:.95rem; }
    .fee { color: #ffd000; font-weight:700; }
    .grid2 { display:grid; grid-template-columns:1fr 1fr; gap:10px; }
    .pill-row{display:flex;flex-wrap:wrap;gap:8px;list-style:none;margin:8px 0 0;padding:0}
    @media (max-width: 900px){ .pay-grid{ grid-template-columns:1fr; } }
  </style>
</head>
<body>

  <header class="site-header">
    <div class="wrap">
      <button id="navToggle" class="nav-toggle" aria-label="Open menu" aria-controls="navPanel" aria-expanded="false">
        <span class="bar"></span><span class="bar"></span><span class="bar"></span>
      </button>
      <div class="brand">
        <img class="logo" src="https://i.postimg.cc/KzPRhDYy/732-937-3734.png" alt="Honestech">
        <div class="brand-text">
          <h1>HONESTECH<br><span>Mobile Mechanic</span></h1>
          <p class="tagline">Honest, reliable service at your driveway.</p>
        </div>
      </div>
      <div class="cta">
        <a class="btn" href="/">Home</a>
        <a class="btn" href="/services.html">Services</a>
        <a class="btn" href="/locations.html">Locations</a>
        <a class="btn" href="/blogs.html">Blogs</a>
        <a class="btn" href="/#book">Book</a>
        <a class="btn" href="/pay.html">Pay Now</a>
        <a class="btn btn-solid" href="tel:+17329373734">Call / Text</a>
      </div>
    </div>
  </header>
  <div id="navPanel" class="nav-panel" aria-hidden="true">
    <nav class="nav-menu" aria-label="Site">
      <a href="/">Home</a>
      <a href="/services.html">Services</a>
      <a href="/locations.html">Locations</a>
      <a href="/blogs.html">Blogs</a>
      <a href="/#book">Book</a>
      <a href="/pay.html">Pay Now</a>
      <a href="tel:+17329373734">Call</a>
      <a href="mailto:honestechservice@gmail.com">Email</a>
    </nav>
  </div>
  <div id="navBackdrop" class="nav-backdrop"></div>

  <main class="pay-wrap">
    <h2>Pay Now</h2>
    <p class="fine">Choose your preferred method. <span class="fee">Stripe Checkout includes a 3% processing fee.</span></p>

    <div class="pay-grid">
      <section class="card">
        <h3>1) Enter amount & details</h3>
        <div class="grid2">
          <div class="field">
            <label for="amount">Labor amount (USD)</label>
            <input id="amount" inputmode="decimal" placeholder="e.g., 150.00" />
          </div>
          <div class="field">
            <label for="customer">Your name</label>
            <input id="customer" placeholder="Full name" />
          </div>
        </div>
        <div class="field" style="margin-top:10px;">
          <label for="note">Note (optional)</label>
          <input id="note" placeholder="e.g., Brake service - Honda Accord" />
        </div>

        <div class="card" style="margin-top:12px;">
          <strong>Stripe total (incl. 3%):</strong>
          <div id="stripeTotal" style="font-size:1.25rem;margin-top:6px;">$0.00</div>
          <p class="fine" style="margin-top:6px;">We add 3% only for Stripe to cover processing.</p>
        </div>

        <ul class="pill-row">
          <li class="pill">Venmo</li>
          <li class="pill">Cash App</li>
          <li class="pill">PayPal</li>
          <li class="pill">Stripe (3% fee)</li>
        </ul>
      </section>

      <section class="card">
        <h3>2) Choose payment method</h3>
        <div class="methods">
          <div class="method">
            <div class="left">
              <span class="brand-chip">Venmo</span>
              <div>
                <div><strong>@Honestech</strong></div>
                <div class="fine">Tap to open Venmo with your amount & note.</div>
              </div>
            </div>
            <a id="venmoBtn" class="btn btn-solid" href="#" target="_blank" rel="noopener">Open Venmo</a>
          </div>

          <div class="method">
            <div class="left">
              <span class="brand-chip">Cash App</span>
              <div>
                <div><strong>$Honestech</strong></div>
                <div class="fine">Tap to open Cash App with your amount & note.</div>
              </div>
            </div>
            <a id="cashappBtn" class="btn btn-solid" href="#" target="_blank" rel="noopener">Open Cash App</a>
          </div>

          <div class="method">
            <div class="left">
              <span class="brand-chip">PayPal</span>
              <div>
                <div><strong>honestechservice@gmail.com</strong></div>
                <div class="fine">Tap to open PayPal with your amount.</div>
              </div>
            </div>
            <a id="paypalBtn" class="btn btn-solid" href="#" target="_blank" rel="noopener">Open PayPal</a>
          </div>

          <div class="method">
            <div class="left">
              <span class="brand-chip">Stripe</span>
              <div>
                <div><strong>Stripe Checkout</strong></div>
                <div class="fine">3% processing fee is added.</div>
              </div>
            </div>
            <a id="stripeBtn" class="btn" style="border-color:#ffd000;color:#ffd000" href="#" target="_blank" rel="noopener">Pay with Stripe</a>
          </div>
        </div>
      </section>
    </div>

    <p class="fine" style="margin-top:14px;">
      Questions? Email <a href="mailto:honestechservice@gmail.com">honestechservice@gmail.com</a> or call <a href="tel:+17329373734">(732) 937-3734</a>.
    </p>
  </main>
  <footer class="site-footer"><div class="wrap"><p>© 2025 Honestech Mobile Mechanic · <a href="mailto:honestechservice@gmail.com">Email</a></p></div></footer>
  <script>
    const VENMO_USER = "Honestech";
    const CASHAPP_TAG = "Honestech";
    const PAYPAL_HANDLE = "honestechservice";
    const STRIPE_PAYMENT_LINK = "https://buy.stripe.com/test_eVqeV65A5ahB2K6cDFgUM00";

    const $ = (id) => document.getElementById(id);
    const amtEl = $("amount"), noteEl = $("note"), custEl = $("customer");
    const stripeTotalEl = $("stripeTotal");

    function toMoney(n){
      const v = parseFloat((n||"").toString().replace(/[^0-9.]/g,""));
      if (isNaN(v)) return 0;
      return Math.round(v*100)/100;
    }
    function fmt(n){ return n.toLocaleString(undefined,{minimumFractionDigits:2, maximumFractionDigits:2}); }

    function buildLinks(){
      const amt = toMoney(amtEl.value);
      const cust = (custEl.value||"").trim();
      const note = (noteEl.value||"").trim();
      const fullNote = encodeURIComponent([ "Honestech Mobile Mechanic", cust && ("— " + cust), note && ("— " + note) ].filter(Boolean).join(" "));

      const stripeTotal = Math.round((amt * 1.03) * 100) / 100;
      stripeTotalEl.textContent = "$" + fmt(stripeTotal);

      const venmoDeep = `venmo://paycharge?txn=pay&recipients=${encodeURIComponent(VENMO_USER)}&amount=${amt}&note=${fullNote}`;
      const venmoWeb  = `https://venmo.com/u/${encodeURIComponent(VENMO_USER)}?txn=pay&amount=${amt}&note=${fullNote}`;
      document.getElementById("venmoBtn").href = venmoDeep;
      document.getElementById("venmoBtn").onclick = (e)=>{ setTimeout(()=>{window.open(venmoWeb,"_blank");}, 600); };

      const cashUrl = `https://cash.app/$${encodeURIComponent(CASHAPP_TAG)}/${amt}?note=${fullNote}`;
      document.getElementById("cashappBtn").href = cashUrl;

      const paypalUrl = `https://www.paypal.me/${encodeURIComponent(PAYPAL_HANDLE)}/${amt}`;
      document.getElementById("paypalBtn").href = paypalUrl;

      const stripeBtn = document.getElementById("stripeBtn");
      stripeBtn.href = STRIPE_PAYMENT_LINK;
      stripeBtn.title = "Stripe total $" + fmt(stripeTotal) + " (includes 3%)";
    }

    ["input","change"].forEach(ev=>{
      amtEl.addEventListener(ev, buildLinks);
      noteEl.addEventListener(ev, buildLinks);
      custEl.addEventListener(ev, buildLinks);
    });
    buildLinks();
  </script>
</body>
</html>
